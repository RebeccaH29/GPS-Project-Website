function checkUrlExists(){return url="founders_associates.json",$.ajax({cache:!1,async:!0,dataType:"json",url:url,success:function(e){buildTable("f_a_datatable",e),showFounders(e[0]),showAssociates(e[1])},error:function(){return $(".msg").html("Sorry, not availble now. Please try after sometime."),0}}),0}function showFounders(e){total_entries=e.length,$.each(e,function(e,n){var o=n.City,t=(n.Country,n.Institution),a=n.Contact,s="/dataviewer/json/coordinates/"+o;$.getJSON(s,function(e){for(key in e[0])rs_city=key,lat=e[0][key].lat,lng=e[0][key].lng;if(rs_city){var n=new google.maps.LatLng(lat,lng),s=new google.maps.Marker({position:n,map:map}),l=new google.maps.MarkerImage("img/gps.ico",null,null,null,new google.maps.Size(20,20));s.setIcon(l);var i="<div style='line-height:1.35;overflow:hidden;white-space:nowrap;font-weight:bold;'>";i+="<h3>Founder</h3>",i+="<span style='color: #666;'>City: </span><span style='color:brown;'>"+o+"</span><br>",i+="<span style='color: #666;'>Institution: </span><span style='color:brown;'>"+t+"</span><br>",i+="<span style='color: #666;'>Contact: </span><span style='color:brown;'>"+a+"</span><br>",i+="</div>";var r=new google.maps.InfoWindow({content:i,size:new google.maps.Size(50,50)});google.maps.event.addListener(s,"mouseover",function(){r.open(map,s)}),google.maps.event.addListener(s,"mouseout",function(){r.close(map,s)})}})})}function showAssociates(e){$.each(e,function(e,n){var o=n.City,t=(n.Country,n.Institution),a=n.Contact,s="/dataviewer/json/coordinates/"+o;$.getJSON(s,function(e){for(key in e[0])rs_city=key,lat=e[0][key].lat,lng=e[0][key].lng;if(rs_city){var n=new google.maps.LatLng(lat,lng),s=new google.maps.Marker({position:n,map:map}),l=new google.maps.MarkerImage("img/gps_icon.gif",null,null,null,new google.maps.Size(20,20));s.setIcon(l);var i="<div style='line-height:1.35;overflow:hidden;white-space:nowrap;font-weight:bold;'>";i+="<h3>Associate</h3>",i+="<span style='color: #666;'>City: </span><span style='color:brown;'>"+o+"</span><br>",i+="<span style='color: #666;'>Institution: </span><span style='color:brown;'>"+t+"</span><br>",i+="<span style='color: #666;'>Contact: </span><span style='color:brown;'>"+a+"</span><br>",i+="</div>";var r=new google.maps.InfoWindow({content:i,size:new google.maps.Size(50,50)});google.maps.event.addListener(s,"mouseover",function(){r.open(map,s)}),google.maps.event.addListener(s,"mouseout",function(){r.close(map,s)})}})})}function buildTable(e,n){var o=document.getElementById(e),t="<table class='table table-striped'><th>Contact</th><th>Institution</th><th>City</th><th>Country</th>";$.each(n,function(e,n){$.each(n,function(e,n){t+="<tr><td>"+n.Contact+"</td><td>"+n.Institution+"</td><td>"+n.City+"</td><td>"+n.Country+"</td></tr>"})}),t+="</table>",$(o).html(t)}var map,geocoder,url="";geocoder=new google.maps.Geocoder;var latlng=new google.maps.LatLng(9.554772,7.908414),mapOptions={zoom:2,center:latlng,scrollwheel:false};map=new google.maps.Map(document.getElementById("map-canvas"),mapOptions);var legend=document.getElementById("legend"),div=document.createElement("div");div.innerHTML='<img src="img/gps.ico"> Founders<br>',div.innerHTML+='<img src="img/gps_icon.gif"> Associates',legend.appendChild(div),map.controls[google.maps.ControlPosition.RIGHT_TOP].push(legend);var total_entries=0;google.maps.event.addDomListener(window,"load",checkUrlExists);